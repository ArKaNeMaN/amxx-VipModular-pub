# WeaponMenu

Меню с различными предметами.

_Данный модуль использует [контроллер предметов](/readme/extensions/items.md)._

## Параметры

| Название              | Обязательный? | Тип                                            | Описание                                                                                                         |
| :-------------------- | :------------ | :--------------------------------------------- | :--------------------------------------------------------------------------------------------------------------- |
| MainMenuTitle         | Нет           | Строка                                         | Загловок главного меню. По умолчанию будет `MENU_MAIN_TITLE` из ланг-файла                                       |
| Menus                 | Да            | [Массив обьектов меню](#поля-обьекта-меню)     | Обьекты доступных меню. Поддерживает ссылки.                                                                     |
| Count                 | Нет           | Ц.Число                                        | Сколько предметов за жизнь можно взять из всех меню. По умолчанию неограничено                                   |
| Limits                | Нет           | Массив [лимитов](/readme/extensions/limits.md) | Условия, при которых меню будет доступно                                                                         |
|                       |               |                                                |                                                                                                                  |
| AutoopenLimits        | Нет           | Массив [лимитов](/readme/extensions/limits.md) | Условия, при которых будет срабатывать автоматическое открытие меню                                              |
| AutoopenDelay         | Нет           | Д.Число                                        | Задержка перед автоматическим открытием меню в секундах. По умолчанию `0.0`                                      |
| AutoopenCloseDelay    | Нет           | Д.Число                                        | Время перед автоматическим закрытием после автоматического открытия меню в секундах                              |
| AutoopenMenuNum       | Нет           | Ц.Число                                        | Порядковый номер оружейного меню из параметра `Menus`, которое будет открыто при автоматическом открытии. Если   |
|                       |               |                                                |                                                                                                                  |
| StayOpen              | Нет           | `true`/`false`                                 | Оставлять ли оружейное меню открытым после выбора пункта. По умолчанию `false`                                   |
| StayOpen_CheckCounter | Нет           | `true`/`false`                                 | Проверять ли остаток предметов при повторном открытии оружейного меню при `StayOpen: true`. По умолчанию `false` |

Если в параметре `Menus` указано только одно меню, то открываться будет сразу оно в обход главного.

### Поля обьекта меню

| Название    | Обязательное? | Тип                                                      | Описание                                                                                      |
| :---------- | :------------ | :------------------------------------------------------- | :-------------------------------------------------------------------------------------------- |
| Name        | Нет           | Строка                                                   | Текст пункта в главном меню                                                                   |
| Title       | Нет           | Строка                                                   | Заголовок оружейного меню                                                                     |
| Limits      | Нет           | Массив [лимитов](/readme/extensions/limits.md)           | Условия, при которых игрок может открыть меню                                                 |
| Items       | Нет           | [Массив обьектов пункта меню](#поля-обьекта-пункта-меню) | Выводимые в меню пункты                                                                       |
|             |               |                                                          |                                                                                               |
| Fake        | Нет           | `true`/`false`                                           | Если `true` - это меню нельзя будет открыть и оно будет отображаться в главном как неактивное |
| FakeMessage | Нет           | Строка                                                   | Сообщение, которое будет выводиться при попытке открыть это меню, если `Fake: true`           |
|             |               |                                                          |                                                                                               |
| BackOnExit  | Нет           | `true`/`false`                                           | Если `true` - вместо выхода из меню будет пункт возвращения в главное меню                    |
| PerPage     | Нет           | Ц.Число                                                  | Максимальное количество пунктов на одной странице меню. По умолчанию 7                        |
| ShowPage    | Нет           | `true`/`false`                                           | Показывать ли в меню счётчик страниц                                                          |

Если `Fake: true`, пункты меню можно не указывать.

`BackOnExit` работает только если игроку доступно более одного оружейного меню.

### Поля обьекта пункта меню

| Название     | Обязательное? | Тип                                            | Описание                                                                                     |
| :----------- | :------------ | :--------------------------------------------- | :------------------------------------------------------------------------------------------- |
| Title        | Нет           | Строка                                         | Текст пункта в оружейном меню                                                                |
| Items        | Нет           | Предметы                                       | Предметы, которые будут выданы при выборе пункта                                             |
| UseCounter   | Нет           | `true`/`false`                                 | Если `false` - при получении предмета из этого пункта счётчик предметов не будет учитываться |
| Limits       | Нет           | Массив [лимитов](/readme/extensions/limits.md) | Условия, при которых будут выданы предметы                                                   |
| ActiveLimits | Нет           | Массив [лимитов](/readme/extensions/limits.md) | Условия, при которых пункт будет активен. По умолчанию активен всегда                        |
| ShowLimits   | Нет           | Массив [лимитов](/readme/extensions/limits.md) | Условия, при которых пункт будет отображаться в меню. По умолчанию всегда отображается       |
| FakeInactive | Нет           | `true`/`false`                                 | Если `true` - при неактивности пункта его можно будет выбрать                                |

При `FakeInactive: false` пункт будет полностью неактивен, и на него нельзя будет нажать, а при `FakeInactive: true` пункт будет выглядеть как неактивный, но выбрать его будет можно. Но если при выборе неактивного пункта он всё ещё не доступен, предметы выданы не будут.

Если параметр `Items` не указан, пункт будет выводиться как простой некликабельный текст.

Если параметр `Title` не указан, пункт будет работать как пропуск строки.

Если параметр `UseCounter` не указан, по умолчанию счётчик будет учитываться.

## Пример

Примеры можно посмотреть в стандартных настройках.
